<h1 align="center">Nolvaryn</h1>

<p align="center">An AI-powered web application for comprehensive email security analysis.</p>

<div align="center" class="gemini-badges">
<img src="https://img.shields.io/github/stars/amarapurkaryash/Nolvaryn?style=for-the-badge&label=Stars&color=FBBF24&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsPSJ3aGl0ZSI%2BPHBhdGggZD0iTTEyIDE3LjI3TDE4LjE4IDIybC0xLjY0LTcuMDNMMjIgOS4yNGwtNy4xOS0uNjFMMTIgMiA5LjE5IDguNjMgMiA5LjI0bDYuNDYgNS55NEw2LjgyIDIyIDEyIDE3LjI3eiIvPjwvc3ZnPg%3D%3D&logoColor=white" alt="Stars Badge">
<img src="https://img.shields.io/github/forks/amarapurkaryash/Nolvaryn?style=for-the-badge&label=Forks&color=34D399&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsPSJub25lIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48bGluZSB4MT0iNiIgeTE9IjMiIHgyPSI2IiB5Mj0iMTUiPjwvbGluZT48Y2lyY2xlIGN4PSIxOCIgY3k9IjYiIHI9IjMiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjYiIGN5PSIxOCIgcj0iMyI%2BPC9jaXJjbGU%2BPHBhdGggZD0iTTE4IDlhOSA5IDAgMCAxLTkgOSI%2BPC9wYXRoPjwvc3ZnPg%3D%3D&logoColor=white" alt="Forks Badge">
<img src="https://img.shields.io/github/issues-raw/amarapurkaryash/Nolvaryn?style=for-the-badge&label=Issues&color=F87171&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsPSJ3aGl0ZSI%2BPHBhdGggZD0iTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTEgMTVoLTJ2LTJoMnYyem0wLTRoLTJWN2gydjZ6Ii8%2BPC9zdmc%2B&logoColor=white" alt="Issues Badge">
<img src="https://img.shields.io/github/watchers/amarapurkaryash/Nolvaryn?style=for-the-badge&label=Watchers&color=60A5FA&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsPSJ3aGl0ZSI%2BPHBhdGggZD0iTTEyIDQuNUM3IDQuNSAyLjczIDcuNjEgMSAxMmMxLjczIDQuMzkgNiA3LjUgMTEgNy41czkuMjctMy4xMSAxMS03LjVDMjIuMjcgNy42MSAxNyA0LjUgMTIgNC41ek0xMiAxN2E1IDUgMCAxIDEgMC0xMCA1IDUgMCAwIDEgMCAxMHptMC04YTMgMyAwIDEgMCAwIDYgMyAzIDAgMCAwIDAgLTZ6IiAvPjwvc3ZnPg%3D%3D&logoColor=white" alt="Watchers Badge">
<img src="https://img.shields.io/github/last-commit/amarapurkaryash/Nolvaryn?style=for-the-badge&label=Last%20Commit&color=A78BFA&logo=git&logoColor=white" alt="Last Commit Badge">
<img src="https://img.shields.io/github/sponsors/amarapurkaryash?style=for-the-badge&label=Sponsors&color=EC4899&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsPSJ3aGl0ZSI%2BPHBhdGggZD0iTTEyIDIxLjM1bC0xLjQ1LTEuMzJDNS40IDE1LjM2IDIgMTIuMjggMiA4LjVDMiA1LjQyIDQuNDIgMyA3LjUgM2MxLjc0IDAgMy40MS44MSA0LjUgMi4wOUMxMy4wOSAzLjgxIDE0Ljc2IDMgMTYuNSAzIDE5LjU4IDMgMjIgNS40MiAyMiA4LjVjMCAzLjc4LTMuNCA2Ljg2LTguNTUgMTEuNTRMMTIgMjEuMzV6Ii8%2BPC9zdmc%2B&logoColor=white" alt="Sponsors Badge">
<img src="https://img.shields.io/badge/TypeScript-2DD4BF?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript Badge">
<img src="https://img.shields.io/badge/JavaScript-FB923C?style=for-the-badge&logo=javascript&logoColor=white" alt="JavaScript Badge">
<img src="https://img.shields.io/badge/CSS3-34D399?style=for-the-badge&logo=css3&logoColor=white" alt="CSS3 Badge">
<img src="https://img.shields.io/badge/Next.js-FBBF24?style=for-the-badge&logo=nextdotjs&logoColor=white" alt="Next.js Badge">
<img src="https://img.shields.io/badge/React-F87171?style=for-the-badge&logo=react&logoColor=white" alt="React Badge">
<img src="https://img.shields.io/badge/Google%20Cloud-60A5FA?style=for-the-badge&logo=googlecloud&logoColor=white" alt="Google Cloud Badge">
<img src="https://img.shields.io/badge/Autoprefixer-A78BFA?style=for-the-badge&logo=autoprefixer&logoColor=white" alt="Autoprefixer Badge">
<img src="https://img.shields.io/badge/PostCSS-EC4899?style=for-the-badge&logo=postcss&logoColor=white" alt="PostCSS Badge">
<img src="https://img.shields.io/badge/Tailwind%20CSS-2DD4BF?style=for-the-badge&logo=tailwindcss&logoColor=white" alt="Tailwind CSS Badge">
</div>

## Table of Contents

* [Overview](#overview)
* [Tech Stack](#tech-stack)
* [Key Features](#key-features)
* [Key Functions](#key-functions)
* [Important Files](#important-files)
* [Live Demo](#live-demo)
* [Getting Started](#getting-started)
* [Usage](#usage)
* [Deployment](#deployment)
* [Running Tests](#running-tests)
* [Contributing Guidelines](#contributing-guidelines)
* [Support Us](#support-us)
* [Code of Conduct](#code-of-conduct)
* [References](#references)
* [License](#license)
* [Acknowledgments](#acknowledgments)

## Overview

Nolvaryn is an innovative AI-powered web application designed to analyze email files (`.eml`) for potential security threats. Leveraging the advanced capabilities of Google Gemini AI, Nolvaryn provides in-depth insights into email content, headers, and attachments, helping users identify phishing attempts, malware indicators, and other suspicious activities. Our goal is to empower individuals and organizations with a powerful, accessible tool for enhancing email security and understanding potential risks. Simply upload your `.eml` file, provide your Gemini API key, and receive a comprehensive security report.

## Tech Stack

Nolvaryn is built using a modern and robust technology stack, ensuring high performance, scalability, and an excellent developer experience.

### Languages
*   TypeScript: For type-safe and scalable JavaScript development.
*   JavaScript: The foundational language for web interactivity.
*   CSS: For styling the application's user interface.

### Frameworks & Runtimes
*   Next.js: The React framework for production, providing server-side rendering, routing, and API routes.
*   React: A declarative, component-based JavaScript library for building user interfaces.

### Libraries & Dependencies
*   @google/genai: Official client library for interacting with Google's Gemini AI models.
*   docx: Library for generating `.docx` files programmatically (though not fully utilized in the provided snippets, indicates future potential).
*   html2canvas: A JavaScript library that allows you to take 'screenshots' of webpages or parts of them.
*   jspdf: A client-side JavaScript PDF generator.

### APIs & Services
*   Google Gemini AI: The powerful AI model driving the email analysis capabilities.

### Developer Tools
*   Autoprefixer: A PostCSS plugin to parse CSS and add vendor prefixes to CSS rules.
*   PostCSS: A tool for transforming CSS with JavaScript plugins.
*   Tailwind CSS: A utility-first CSS framework for rapidly building custom designs.
*   TypeScript: The superset of JavaScript that adds static types, used for development.

## Key Features

Nolvaryn offers a robust set of features designed to provide comprehensive email security insights:

*   **AI-Powered Email Analysis:** Utilizes Google Gemini AI to deeply inspect EML files for potential threats and anomalies.
*   **Threat Detection & Classification:** Identifies and categorizes various threats, including phishing, spam, malware indicators, and suspicious content.
*   **Detailed Security Reports:** Generates comprehensive reports in both JSON and Markdown formats, outlining key findings and actionable insights.
*   **User-Provided API Key Integration:** Allows users to bring their own Gemini API keys for analysis, enhancing privacy and control.
*   **Intuitive User Interface:** A clean and easy-to-use web interface for seamless file uploads and report viewing.
*   **Robust Security Measures:** Implements CSRF protection and secure request validation for all API interactions.
*   **Cross-Platform Compatibility:** As a web application, Nolvaryn is accessible from any modern browser on various operating systems.

## Key Functions

Nolvaryn is built upon several critical functions that orchestrate its capabilities:

### `POST` function in `app/api/analyze/route.ts`
This API route serves as the primary endpoint for submitting EML files for AI analysis. It meticulously validates incoming requests, checking `Content-Type`, enforcing CSRF protection, and performing general security checks before handing off the email content for processing by the Gemini AI.

### `GET` and `OPTIONS` functions in `app/api/csrf/route.ts`
The `GET` function securely generates and sets a `csrf-token` cookie for client-side use, essential for preventing Cross-Site Request Forgery attacks on subsequent API calls. The `OPTIONS` function handles pre-flight requests from the browser, managing CORS headers to ensure secure cross-origin communication.

### `handleFileUpload` function
This client-side function manages the entire EML file upload lifecycle. It first verifies if the user has provided a Gemini API key (prompting them if not), then validates the file type, reads its content, updates the UI to reflect the analysis state, and finally dispatches the file content to the backend for AI processing. It's also responsible for handling and displaying any errors during this process.

### `handleReset`, `handleNavigate`, `handleApiKeySaved`, `handleModalClose` functions
These functions are central to managing the application's user interface state. `handleReset` allows users to clear analysis results and return to the initial upload state. `handleNavigate` controls transitions between different views or pages within the application. `handleApiKeySaved` is called once a user provides their Gemini API key, closing the modal and potentially triggering a pending file analysis. `handleModalClose` simply dismisses any open modals.

### `renderHomePage` function
This UI rendering function dynamically displays different components based on the application's current `appState`. For instance, it shows a `Loader` during analysis, an `AnalysisResultDisplay` when results are ready, or an error message if something went wrong. This ensures a responsive and informative user experience.

### `downloadJsonReport` function
This utility function facilitates the download of analysis results in JSON format. It takes the comprehensive analysis object, adds metadata like generation time and source, converts it into a formatted JSON string, and then creates a downloadable blob to deliver the report to the user as a `.json` file.

### `downloadMarkdownReport` function
Similar to the JSON report, this function enables users to download the analysis results in a human-readable Markdown format. It processes the analysis data, generates a structured Markdown string, and then creates a downloadable blob to provide the report as a `.md` file.

## Important Files

Here's a breakdown of the key files and directories in the Nolvaryn project:

*   `.env.example`: Template for local environment variables.
*   `App.tsx`: The main application component, orchestrating state and rendering.
*   `LICENSE`: Contains the project's licensing information.
*   `README.md`: This very file, providing an overview and documentation.
*   `app/api/analyze/route.ts`: Handles the core email analysis API endpoint, including validation and AI interaction.
*   `app/api/csrf/route.ts`: Manages CSRF token generation and validation for API security.
*   `app/globals.css`: Global CSS styles for the application.
*   `app/layout.tsx`: The root layout component for the Next.js application.
*   `app/page.tsx`: The main page component that renders the application UI.
*   `components/`: Directory containing reusable UI components.
    *   `components/AnalysisResultDisplay.tsx`: Component for displaying the AI analysis results.
    *   `components/ApiKeyModal.tsx`: Modal for users to input their Gemini API key.
    *   `components/FileUpload.tsx`: Component for handling EML file uploads.
    *   `components/Header.tsx`: The application's header and navigation.
    *   `components/Loader.tsx`: Displays loading animations and messages during analysis.
*   `package.json`: Lists project dependencies and scripts.

## Live Demo

Experience Nolvaryn in action! Check out the live demo of our application here: [Nolvaryn Live Demo](https://nolvaryn.vercel.app)

## Getting Started

To get a local copy of Nolvaryn up and running, follow these simple steps.

### Prerequisites

Ensure you have the following installed:

*   Node.js (LTS recommended, v18+)
*   npm or Yarn
*   Git

### Installation

1.  **Clone the repository**
    ```bash
    git clone https://github.com/amarapurkaryash/Nolvaryn.git
    cd Nolvaryn
    ```
2.  **Install dependencies**
    ```bash
    npm install
    # or
    yarn install
    ```
3.  **Set up environment variables**
    Create a `.env.local` file in the root directory by copying the `.env.example` file.
    ```bash
    cp .env.example .env.local
    ```
    While the `GEMINI_API_KEY` is provided by users through the web interface, you might want to configure `NEXT_PUBLIC_DOMAIN` for local development if you need specific CORS handling.

### Running Locally

To start the development server:

```bash
npm run dev
# or
yarn dev
```

The application will be accessible at `http://localhost:3000`.

## Usage

Nolvaryn is designed to be straightforward and intuitive to use. Follow these steps to analyze your email files:

1.  **Access the Application:** Open the Nolvaryn web application in your browser (e.g., [https://nolvaryn.vercel.app](https://nolvaryn.vercel.app) or your local deployment).
2.  **Upload Your EML File:** On the homepage, locate the file upload section. Click or drag your `.eml` file into the designated area.
3.  **Provide Gemini API Key:** The application requires your own Google Gemini API key to perform the analysis. If you haven't provided one yet, a modal will appear prompting you to enter it. Your API key is stored temporarily in your browser's session storage and is not persisted on our servers.
    *   **How to get a Gemini API Key:** Visit the [Google AI Studio](https://ai.google.dev/) and follow the instructions to generate a new API key.
4.  **Initiate Analysis:** Once the file is uploaded and your API key is provided, Nolvaryn will begin analyzing the email. You'll see a loader indicating the progress.
5.  **Review Results:** After the analysis is complete, a detailed security report will be displayed. This report will highlight potential threats, indicators of compromise, and provide a summary of the email's characteristics.
6.  **Download Reports:** You can download the full analysis report in both JSON and Markdown formats for further inspection or record-keeping.

## Deployment

Nolvaryn is a Next.js application, making it perfectly suited for deployment on platforms like Vercel. Below is a high-level guide for deploying your own instance.

### Deploying to Vercel

1.  **Fork the Repository:** Start by forking the [Nolvaryn repository](https://github.com/amarapurkaryash/Nolvaryn) to your GitHub account.
2.  **Connect to Vercel:** Log in to your Vercel account (or sign up for free). Import your forked Nolvaryn repository.
3.  **Configure Environment Variables:** Vercel will automatically detect that it's a Next.js project. You'll need to set the `NEXT_PUBLIC_DOMAIN` environment variable to your Vercel deployment URL (e.g., `https://your-app.vercel.app`). Note that `GEMINI_API_KEY` is provided by users directly in the UI, not via environment variables.
4.  **Build and Deploy:** Vercel will then build and deploy your application. Subsequent pushes to your `main` branch (or configured production branch) will trigger automatic redeployments.

For more detailed instructions, refer to the [Vercel documentation](https://vercel.com/docs/concepts/deployments/overview).

## Running Tests

Currently, automated tests are not fully implemented. We are working on establishing a robust testing suite to ensure the reliability and quality of Nolvaryn.

### Manual Testing

During development, manual testing is performed by running the application locally (`npm run dev`) and interacting with its features. We welcome bug reports and observations from users!

If you're interested in contributing to our testing efforts or setting up a testing framework, please open an issue to discuss.

## Contributing Guidelines

We welcome contributions from the community! While a formal `CONTRIBUTING.md` is not yet in place, we encourage you to:

*   **Fork the repository** and create your branch from `main`.
*   **Submit issues** for bugs, feature requests, or suggestions.
*   **Open pull requests** with clear descriptions of your changes.

We appreciate your help in making Nolvaryn better!

## Support Us

This project is open-source under the Other License. If you find Nolvaryn useful and would like to support its continued development, please consider becoming a sponsor or contributing in other ways. Your support helps us maintain and enhance this tool for the community!

## Code of Conduct

We believe that a welcoming and inclusive community is essential for open source projects. While we don't currently have a formal Code of Conduct document, we expect all participants to treat each other with respect and professionalism. For more details on contributing, please refer to our contributing guidelines.

## References

*   [Next.js Documentation](https://nextjs.org/docs) - The official documentation for the React framework for production.
*   [React Documentation](https://react.dev/) - The official documentation for building user interfaces with React.
*   [Google Gemini API](https://ai.google.dev/docs) - Documentation for integrating with Google's Gemini AI models.
*   [TypeScript Documentation](https://www.typescriptlang.org/docs/) - The official handbook and reference for TypeScript.
*   [Tailwind CSS Documentation](https://tailwindcss.com/docs) - The official documentation for the utility-first CSS framework.
*   [PostCSS Documentation](https://postcss.org/) - A tool for transforming CSS with JavaScript.
*   [Autoprefixer GitHub](https://github.com/postcss/autoprefixer) - PostCSS plugin to parse CSS and add vendor prefixes to CSS rules.

## License

This project is licensed under the **Other** license. For full details, please see the `LICENSE` file in the repository root.

## Acknowledgments

This README was generated with [Nolthren](https://github.com/amarapurkaryash/Nolthren) & Gemini AI.
